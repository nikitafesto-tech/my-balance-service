{% extends "layouts/base.html" %}

{% block title %}Профиль — Neirosetim{% endblock %}

{% block head_scripts %}
<script src="https://yookassa.ru/checkout-widget/v1/checkout-widget.js"></script>
{% endblock %}

{% block styles %}
<link rel="stylesheet" href="/static/css/pages/profile.css">
{% endblock %}

{% block content %}

<div class="profile-wrapper">
    <h2 class="profile-title">Мой кошелек</h2>
    
    <div class="payment-card">
        <div class="payment-card__label">Текущий баланс</div>
        <div class="payment-card__balance">{{ balance }} ₽</div>
        
        <p class="payment-card__hint">Пополнение картой РФ или СБП без комиссии</p>

        <div class="payment-form">
            <input type="number" id="amount-input" class="payment-input" value="100" min="10">
            <button onclick="openPaymentModal()" id="pay-btn" class="payment-btn">Пополнить</button>
        </div>
        <div id="error-msg" class="payment-error"></div>
    </div>

    <div class="logout-section">
        <a href="/logout" class="logout-link">Выйти из аккаунта</a>
    </div>
</div>

<div id="payment-modal" class="modal-overlay">
    <div class="modal-card">
        <div onclick="closeModal()" class="modal-close">&times;</div>
        <div id="yookassa-widget" class="widget-container"></div>
    </div>
</div>

{% endblock %}

{% block scripts %}
<script src="/static/js/profile.js"></script>
{% endblock %}